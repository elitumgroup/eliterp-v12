<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <!--ATS-->
        <record id="view_form_ats_wizard" model="ir.ui.view">
            <field name="name">view_form_ats_wizard</field>
            <field name="model">sri.ats</field>
            <field name="arch" type="xml">
                <form>
                    <field name="state" invisible="1"/>
                    <group states="choose">
                        <separator
                                string="Se exportará la información de la compañía actual."
                                colspan="4"/>
                        <group>
                            <field name="year_accounting" options="{'no_open': True, 'no_create': True}"/>
                            <field name="period_id" options="{'no_open': True, 'no_create': True}"
                                   domain="[('period_id','=', year_accounting)]"/>
                            <field name="shop_id"
                                   domain="[('company_id', '=', company_id)]"
                                   options="{'no_open': True, 'no_create': True}"/>
                            <field name="no_validate"/>
                            <field name="pay_limit" readonly="1"/>
                            <field name="company_id" invisible="1"/>
                        </group>
                    </group>

                    <!--Si se genera correctamente se muestra este grupo-->
                    <group states="export">
                        <separator string="Archivo generado correctamente, guardelo en su ubicación de preferencia."
                                   colspan="4"/>
                        <group>
                            <field name="file_name" invisible="1"/>
                            <field name="file" filename="file_name" readonly="1"/>
                        </group>
                    </group>

                    <!--Si hay errores mostramos este grupo-->
                    <group states="export_error">
                        <separator string="Archivo generado incorrectamente, revise archivo de errores." colspan="4"/>
                        <group>
                            <field name="error_file_name" invisible="1"/>
                            <field name="error_file" filename="error_file_name" readonly="1"/>
                        </group>
                    </group>
                    <footer>
                        <button name="generate_ats" class="oe_highlight" string="Generar"
                                attrs="{'invisible':[('state', '!=', 'choose')]}"
                                type="object"/>
                        <button string="Descartar" special="cancel" states="choose"/>
                        <button states="export,export_error" string="Cerrar" class="oe_link" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>

        <!--Taxes (103, 104)-->
        <record id="view_form_taxes_103_104_wizard" model="ir.ui.view">
            <field name="name">view_form_taxes_103_104_wizard</field>
            <field name="model">sri.taxes.103.104</field>
            <field name="arch" type="xml">
                <form>
                    <group col="4">
                        <field name="start_date"/>
                        <field name="end_date"/>
                    </group>
                    <footer>
                        <button name="print_report_xlsx"
                                type="object"
                                class="oe_highlight"
                                string="Excel"/>
                        <button string="Descartar" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>
    </data>
</odoo>